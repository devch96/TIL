# 공개된 API 요소에는 항상 문서화 주석을 작성하라

- 자바독은 소스코드 파일에서 문서화 주석이라는 특수한 형태로 기술된 설명을 추려 API 문서로 변환해준다.
- 문서화 주석을 작성하는 규칙은 공식 언어 명세에 속하진 않지만 응당 알아야 하는 업계 표준 API라 할 수 있다.

### 올바로 문서화하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.

- 기본 생성자에는 문서화 주석을 달 방버이 없으니 공개 클래스는 절대 기본 생성자를 사용하면 안된다.

### 메서드용 문서화 주석에는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 한다.

- 상속용으로 설계된 클래스의 메서드가 아니라면 어떻게 동작하는지가 아니라 무엇을 하는지를 기술해야 한다.
- HOW 가 아닌 WHAT을 기술해야 한다.
- 문서화 주석에는 클라이언트가 해당 메서드를 호출하기 위한 전제조건을 모두 나열해야 한다.
- 또한 성공적으로 수행된 후에 만족해야 하는 사후조건도 모두 나열해야 한다.
- 일반적으로 전제조건은 @throws 태그로 비검사 예외를 선언하여 암시적으로 기술한다.

### 부작용도 문서화해야 한다.

- 부작용이란 사후조건으로 명확히 나타나지는 않지만 시스템의 상태에 어떠한 변화를 가져오는 것을 뜻한다.
- 예를 들어 백그라운드 스레드를 시작시키는 메서드라면 그 사실을 문서에 밝혀야 한다.

### 계약(contract) 기술

- 메서드의 계약을 완벽히 기술하려면 모든 매개변수에 @param 태그를, 반환 타입이 void가 아니라면 @return 태그를,
발생할 가능성이 있는 모든 예외에 @throws 태그를 달아야 한다.
- 관례상 @param 태그와 @return 태그의 설명은 해당 매개변수가 뜻하는 값이나 반환값을 설명하는 명사구를 쓴다.
- 드물게는 명사구 대신 산술 표현식을 쓰기도 한다.
- 관례상 @param, @return, @throws 태그의 설명에는 마침표를 붙이지 않는다.(설명을 한글로 작성할 경우 온전한 종결 어미로 끝나면 마침표를 써주는게 일관돼 보인다.)

### 예시

```java
/**
 * Returns the element at the specified position in this list.
 * 
 * <p>This method is <i>not</i> guaranteed to run in constant time.
 * In some implementations it may run in time proportinal
 * to the element position</p>
 * ...
 * {@code index < 0 || index >= this.size()}
 */
```
- 자바독 유틸리티는 문서화 주석을 HTML로 변환하므로 문서화 주석 안에 HTML 요소들이 최종 HTML 문서에 반영된다.
- @code 태그는 태그로 감싼 내용을 코드용 폰트로 렌더링하고 태그로 감싼 내용에 포함된 HTML 요소나 다른 자바독 태크를 무시한다.
- 여러 줄로 된 코드 예시를 넣으려면 &lt;pre> 태그로 감싸면 된다.

### @implSpec

- 클래스를 상속용으로 설계할 때는 자기사용 패턴에 대해서도 문서에 남겨 다른 프로그래머에게 그 메서드를 올바로
재정의하는 방법을 알려줘야 한다.
- 자기사용 패턴은 @implSpec 태그로 문서화한다.
- 일반적인 문서화 주석은 해당 메서드와 클라이언트 사이의 계약을 설명하지만 @implSpec 주석은 해당 메서드와 하위 클래스 사이의 계약을 설명하여,
하위 클래스들이 그 메서드를 상속하거나 super 키워드를 이용해 호출할 때 그 메서드가 어떻게 동작하는지를 명확히 인지하고 사용하도록 해줘야 한다.

### @literal

- API 설명에 HTML 메타 문자를 넣고 싶으면 {@literal} 태그로 감싸면 된다.

### 각 문서화 주석의 첫 번째 문장은 해당 요소의 요약 설명으로 간주된다.

- 요약 설명은 반드시 대상의 기능을 고유하게 기술해야 한다.
- 헷갈리지 않으려면 한 클래스안에서 요약 설명이 똑같은 멤버가 둘 이상이면 안된다.
- 다중정의된 메서드들의 설명은 같은 문장으로 시작하는 게 자연스럽겠지만 문서화 주석에는 허용되지 않는다.

### {@index}

- {@index} 태그를 사용해 중요한 용어를 추가로 색인화할 수 있다.

### 제네릭 타입이나 제네릭 메서드를 문서화할 때는 모든 타입 매개변수에 주석을 달아야 한다.
```java
/**
 * ...
 * 
 * @param <K> 이 맵을 관리하는 키의 타입
 * @param <V> 매핑된 값의 타입
 */
public interface Map<K, V> {...}
```

### 열거 타입을 문서화할 때는 상수들에도 주석을 달아야 한다.

### 애너테이션 타입을 문서화할 때는 멤버들에도 모두 주석을 달아야 한다.

### 클래스 혹은 정적 메서드가 스레드 안전하든 그렇지 않든 스레드 안전 수준을 반드시 API 설명에 포함해야 한다.

