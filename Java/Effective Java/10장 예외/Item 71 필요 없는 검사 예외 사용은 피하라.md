# 필요 없는 검사 예외 사용은 피하라

- 검사 예외를 싫어하는 프로그래머가 많지만 제대로 활용하면 API와 프로그램의 질을 높일 수 있다.
- 하지만 검사 예외를 과하게 사용하면 오히려 쓰기 불편한 API가 된다.
- 검사 예외를 던지는 메서드는 스트림 안에서 직접 사용할 수 없기 때문에 자바 8부터는 부담이 더욱 커졌다.
- API를 제대로 사용해도 발생할 수 있는 예외이거나, 프로그래머가 의미 있는 조치를 취할 수 있는 경우라면 사용해도 괜찮다.
- 하지만 둘 중 어디에도 해당하지 않는다면 비검사 예외를 사용하는 게 좋다.

### 검사 예외를 회피하는 가장 쉬운 방법

- 적절한 결과 타입을 담은 옵셔널을 반환하는 것이다.
- 검사 예외를 던지는 대신 단순히 빈 옵셔널을 반환하면 된다.
- 하지만 예외가 발생한 이유를 알려주는 부가 정보를 담을 수 없다는 것이 단점이다.

### 검사 예외를 던지는 메서드를 2개로 쪼개 비검사 예외로 바꿀 수 있다.

```java
try{
    obj.action(args);
}catch(TheCheckedException e){
        ...
}

if(obj.actionPermitted(args)){
    obj.action(args);
}else{
        ...
}
```
- 모든 상황에서 적용할 수 없지만 더 쓰기 편한 API를 제공할 수 있다.
- 메서드가 성공하리라는 걸 알거나 실패 시 스레드를 중단하길 원하면 obj.action(args) 한줄로 작성해도 무방하다.

## 핵심 정리

- 꼭 필요한 곳에만 사용한다면 검사 예외는 프로그램의 안전성을 높여주지만 남용하면 안좋은 API가 된다.
- API 호출자가 예외 상황에서 복구할 방법이 없다면 비검사 예외를 던지자.
- 복구가 가능하고 호출자가 그 처리를 해주길 바란다면, 우선 옵셔널을 반환해도 될지 고민하자.
- 옵셔널만으로는 상황을 처리하기에 충분한 정보를 제공할 수 없을 때만 검사 예외를 던지자.
