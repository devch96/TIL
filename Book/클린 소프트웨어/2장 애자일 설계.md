# 애자일 설계

- 기민성(agility)이 아주 조금씩 소프트웨어를 만들어나가는 것을 의미한다면 소프트웨어 설계는?
- 애자일 팀에서 큰 그림은 소프트웨어와 함께 발전한다.
  - 반복에서 팀은 시스템의 설계를 개선해 지금 그대로도 충분히 가능한 한 제일 좋은 시스템이 되도록 한다
  - 나중의 요구사항과 필요에 대해서는 그리 오래 생각하지 않는다

### 잘못된 설계의 증상

- 경직성(Rigidity)
  - 설계를 변경하기 어려움
- 취약성(Fragility)
  - 설계가 망가지기 쉬움
- 부동성(Immobility)
  - 설계를 재사용하기 어려움
- 점착성(Viscosity)
  - 제대로 동작하기 어려움
- 불필요한 복잡성(Needless Complexity)
  - 과도한 설계
- 불필요한 반복(Needless Repetition)
  - 마우스 남용
- 불투명성(Opacity)
  - 혼란스러운 표현

### 원칙

- SRP: 단일 책임 원칙(Single Responsibility Principle)
- OCP: 개방 폐쇄 원칙(Open-Closed Principle)
- LSP: 리스코프 치환 원칙(Liskov Substitution Principle)
- ISP: 인터페이스 분리 원칙(Interface Segregation Principle)
- DIP: 의존 관계 역전 원칙(Dependency Inversion Principle)

### 악취와 원칙

- 설계의 악취는 하나의 증상이고 대개 이런 악취는 하나 이상의 원칙을 위반했을 때 발생
  - 경직성의 악취는 많은 경우 개방 폐쇄 원칙에 충분히 주의를 기울이지 않았기 때문에 발생
- 애자일 팀은 악취를 제거하기 위해 원칙을 적용함
  - 아무 악취도 나지 않으면 원칙을 적용하지 않음
  - 원칙이라는 이유만으로 무조건 따르는 것은 좋지 않음
- 원칙에 대한 맹종은 불필요한 복잡성이란 설계의 악취로 이어짐

----------------

## 애자일 설계란 무엇인가?

- 설계는 소스 코드에 의해 문서화되며, 소스 코드를 표현하는 다이어그램은 설계에서 부수적인 것일 뿐 설계 그 자체가 아니다.
  - 설계는 코드와는 별개의 UML 다이어그램을 뜻하는 것이 아니다.
  - 일련의 UML 다이어그램이 설계의 일부를 나타낼 수는 있지만 설계 자체는 아니다.
- 설계는 추상적인 개념으로, 구체적인 각 모듈, 클래스, 메서드의 형태와 구조뿐만 아니라 프로그램의 전체 형태와 구조와도 관련되어 있다.
- 소스 코드가 바로 설계다.

### 소프트웨어에서 어떤 것이 잘못되는가?

- 기존 시스템은 계속 발전하고 변경되며, 새로운 설계는 그것을 쫓아가야 한다.
- 새로운 설계가 첫 번째 릴리즈에 이르기도 전에 혹과 궤양이 새로운 설계에 생기는 셈

### 설계의 악취: 부패하고 있는 소프트웨어 냄새

- 경직성
  - 시스템을 변경하기 어렵다.
  - 변경 하려면 시스템의 다른 부분들까지 많이 변경해야 하기 때문.
- 취약성
  - 변경을 하면 시스템에서 그 부분과 개념적으로 아무런 관련이 없는 부분이 망가진다.
- 부동성
  - 시스템을 다른 시스템에서 재사용할 수 있는 컴포넌트로 구분하기가 어렵다.
- 점착성
  - 옳은 동작을 하는 것이 잘못된 동작을 하는 것보다 더 어렵다.
- 불필요한 복잡성
  - 직접적인 효용이 전혀 없는 기반구조가 설계에 포함되어 있다.
- 불필요한 반복
  - 단일 추상 개념으로 통합할 수 있는 반복적인 구조가 설계에 포함되어 있다.
- 불투명성
  - 읽고 이해하기 어렵다
  - 그 의도를 잘 표현하지 못한다.
- 