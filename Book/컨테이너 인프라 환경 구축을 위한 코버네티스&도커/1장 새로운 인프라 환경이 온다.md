# 새로운 인프라 환경이 온다

- 엔지니어가 개발 환경을 만들어 제공하면 개발자는 그에 맞는 도구를 모두 설치해야 했던 온프레미스(on-premises)
환경은 이제 고전적인 인프라 환경이 됨.
- 이미 구성된 환경을 사용자가 필요에 따라 선택하고 조합해서 사용할 수 있게 제공되는 서비스로서의 인프라 환경(IaaS,
Infrastructure as a Service)가 됨.
- 인프라 환경이 빠르게 갖춰지는 만큼 소프트웨어도 빠르게 개발하고 적용하는 애자일 방법론이 나오면서, 사용자가 요구하는
인프라를 즉각 제공하는 주요 기능은 유지하고, 사용자마다 독립적인 환경에서 개발해도 모두 동일한 결과를 얻을 수 있고 개발된
소프트웨어의 성능을 보장하며 인프라의 가용 리소스를 최대한 확보할 수 있는 인프라 환경으로 변화하고 있다.

## 컨테이너 인프라 환경이란

- 컨테이너를 중심으로 구성된 인프라 환경.
- 컨테이너(container)는 하나의 운영 체제 커널에서 다른 프로세스에 영향을 받지 않고 독립적으로 실행되는 프로세스 상태.
- 컨테이너는 가상화 상태에서 동작하는 프로세스보다 가볍고 빠르게 동작함.

### 모놀리식 아키텍처

- 모놀리식 아키텍처(monolithic architecture)는 하나의 큰 목적이 있는 서비스 또는 어플리케이션에 여러 기능이 통합돼 있는 구조.
- 모놀리식 아키텍처는 소프트웨어가 하나의 결합된 코드로 구성되기 때문에 초기 단계에서 설계하기 용이하며 개발이 단순하고 코드 관리가 간편함.
- 서비스를 운영하는 과정에서 수정이 많을 경우 이뤄진 수정이 연관된 다른 서비스에 영향을 미칠 가능성이 커짐.

### 마이크로서비스 아키텍처

- 마이크로서비스 아키텍처(MSA, Microservices Architecture)는 시스템 전체가 하나의 목적을 지향하는 바는 모놀리식 아키텍처와 동일하나
개별 기능을 ㅈ하는 작은 서비스를 각각 개발해 연결하는 데서 차이가 있음.
- 개발된 서비스를 재사용하기 쉽고, 서비스의 수정이 다른 서비스에 영향을 미칠 가능성이 줄고, 특정 서비스만 확장할 수 있음.
- 요구 사항에 따라 가용성을 즉각적으로 확보해야 하는 IaaS 환경에 적합.
- 모놀리식 아키텍처보다 복잡도가 높으며 서비스들이 서로 유기적으로 통신하는 구조로 설계되기 때문에 네트워크를 통한
호출 횟수가 증가해 성능에 영향을 줄 수 있음.

### 컨테이너 인프라 환경에 적합한 아키텍처

- 컨테이너 인프라 환경에서는 컨테이너를 서비스 단윌 ㅗ포장해 손쉽게 배포하고 확장할 수 있음.
- 컨테이너는 마이크로서비스 아키텍처의 서비스와 1:1로 대응하며, 도입, 설계, 운용 비용이 감소하고 생산성이 향상됨.

## 컨테이너 인프라 환경을 지원하는 도구

- 컨테이너 인프라 환경은 크게 컨테이너, 컨테이너 관리, 개발 환경 구성 및 배포 자동화, 모니터링으로 구성

### 도커

- 도커(Docker)는 컨테이너 환경에서 독립적으로 어플리케이션을 실행할 수 있도록 컨테이너를 만들고 관리하는 것을 도와주는
컨테이너 도구
- 도커로 어플리케이션을 실행하면 운영 체제 환경에 관계없이 독립적인 환경에서 일관된 결과를 보장.

### 쿠버네티스

- 쿠버네티스(Kubernetes)는 다수의 컨테이너를 관리하는 데 사용.
- 컨테이너의 자동 배포와 배포된 컨테이너에 대한 동작 보증, 부하에 따른 동적 확장 등의 기능을 제공.
- 도커 스웜, 메소스, 노마드 등의 다른 툴도 있음.

### 젠킨스

- 젠킨스(Jenkins)는 지속적 통합(CI, Continuous Integration)과 지속적 배포(CD, Continuous Deployment)를 지원.
- CI/CD는 개발한 프로그램의 빌드, 테스트, 패키지화, 배포 단계를 모두 자동화해 개발 단계를 표준화함.
- 컨테이너 인프라 환경처럼 단일 기능을 빠르게 개발해 적용해야 하는 환경에 매우 적합한 도구.
- 뱀부, 깃허브 액션, 팀시티 등의 다른 툴도 있음.

### 프로메테우스와 그라파나

- 프로메테우스(Prometheus)와 그라파나(Grafana)는 모니터링을 위한 도구.
- 프로메테우스는 상태 데이터를 수집하고, 그라파나는 프로메테우스로 수집한 데이터를 관리자가 보기 좋게 시각화.
- 컨테이너 인프라 환경에서는 많은 종류의 소규모 기능이 각각 나우어 개발되기 때문에 중앙 모니터링이 필요.