# 배포 관리와 태그

-------------

## 배포

- 최종 사용자에게 전달하는 과정을 배포라고 함

-------------

## 버전

- 정식 버전은 1부터 시작. 이를 메이저 버전이라고 함
- 메이저 번호를 변경하면 하위 버전과 호환성이 낮아질 수도 있음.
- 두 번째 자리는 메이저 버전에서 기능을 추가하거나 변경 사항이 있을 때 바꿈. 마이너 번호라고 함
- 세 번째 자리는 버그 수정 등 미미한 변화가 있을 때 바꿈. 패치 버전
- 세 자리 숫자 형태로 표기하는 것을 SemVer 방식이라고 함
- 버전 용어
  - RC(Release Candidate): 정식 버전이 아닌 베타 버전. 안정적인 동작을 보장하지 않는 임시 제품
  - GA(General Availability): 테스트가 완료된 정식 릴리스 버전. 안정된 버전
  - M(Milestonoe): 테스트 버전

------------

## 태그

- 커밋은 코드 변화를 기록한 것. 각 커밋은 서로 다른 코드의 상태를 가짐
- 깃은 정리된 커밋을 배포할 수 있도록 특수한 포인터를 제공하며, 특정 커밋을 가리키는 포인터로 버전을 관리
- 이 포인터는 태그.
- 태그는 특정 커밋의 해시 값을 가리키는 꼬리표

-------------

## 태그 목록

- 태그를 사용하려면 git tag

----------

## Annotated 태그

- 일반적으로 사용하는 태그 방법으로 주석이 달린 이라는 뜻

### 태그 생성

- Annotated 태그를 생성할 떄는 커밋의 해시 값뿐 아니라 추가로 생성자 정보를 같이 넣을 수 있음.
- Annotated 태그 생성
- git tag -a 버전

### 간단한 메시지

- Annotated 태그를 생성할 때는 메시지를 작성해야 함
- 태그 정보가 간단하다면 에디터대신 -m 옵션으로 대체할 수 있음.

### 태그는 중복해서 생성할 수 없다.

- 태그 이름은 유일해야 함
- 중복해서 생성할 수 없음.

### 태그 삭제

- 실수로 생성할 태그에 커밋을 잘못 지정할 수 있음.
- 기존에 생성한 태그를 삭제해야 함
- tag -d 명령어로 삭제 가능
- 태그는 단순히 커밋의 포인터이므로 태그를 삭제해도 실제 커밋은 삭제되지 않음

### 태그의 상세 정보 확인

- git show 태그이름

----------------

## Lightweight 태그

- 가장 기본적인 태그로 Annotated 태그와 달리 버전 이름만 있음

### 체크섬

- Annotated 태그에는 커밋 해시 값과 부가적인 정보가 있음
- Lightweight 태그 방식은 커밋의 체크섬만 가지고 있음.
- -a, -m 같은 옵션은 사용할 수 없음
- git tag 태그이름

### 태그의 상세 정보 확인

- 동일하게 show 명령어 사용

------------

## 특정 커밋 태그

- tag 명령어는 기본적으로 HEAD가 가리키는 커밋을 기준으로 태그
- 특정 커밋 직접 지정
- git tag -a 태그버전 커밋ID

------------

## 태그를 사용한 체크아웃

- 체크아웃할 때 브랜치 이름 대신 태그 이름 입력하면 됨
- git checkout 1.0.0
- 브랜치처럼 추가로 커밋을 작성할 수는 없음.

### 태그 브랜치

- 추가 커밋 작업이 필요하다면 태그를 기반으로 새 브랜치를 생성
- git checkout -b 브랜치이름 태그이름

-----------------

## 태그 공유

- 태그 정보는 push에서 제외되므로 별도로 전송해야 함
- git push 태그이름

### 전체 태그 동기화

- 태그 1개를 지정하여 하나씩 전송하는 것은 불편
- git push origin --tags
- 로컬 저장소의 모든 태그를 한번에 원격 저장소로 보낼 수 있음.
- 원격 저장소의 태그를 삭제할 때는
- git push --delete 서버이름 태그이름
- 로컬도 따로 삭제해야함.

### 원격 저장소에 로컬과 다른 이름으로 태그 전송

- git push origin master:master1 (브랜치)
- git push origin 태그이름: 원격저장소의 태그이름