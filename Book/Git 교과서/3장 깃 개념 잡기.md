# 깃 개념 잡기

-----------

## 깃 저장소 생성

- 깃은 변경 사항을 전용 저장소에 저장함
- 저장소는 폴더와 유사하지만 약간의 차이가 있음

### 폴더와 깃 저장소

- 깃 저장소에는 별도의 숨겨진 폴더가 있는데 여기에 버전 관리 시스템에 필요한 파일 변경 이력을 기록함
- 저장소는 프로젝트의 모든 리비전과 히스토리를 가진 데이터베이스와 같음

### 초기화

- 저장소를 생성하려면 먼저 초기화 작업이 필요함
- git init [경로명]

### 숨겨진 폴더 = .git 폴더

- 이 폴더에는 깃으로 관리되는 모든 파일 및 브랜치 등 이력을 기록함
- 깃 저장소를 통째로 복사하고자 할 때는 숨겨진 .git 폴더까지 같이 복사해야 함

---------------

## 워킹 디렉터리

- 워킹 디렉터리는 다른 용어로 워킹 트리라고도 함

### 워킹 디렉터리란

- 깃은 VCS의 특성 때문에 저장 공간을 논리적으로 분리함
- 깃은 저장 공간을 크게 작업하는 공간(working)과 임시로 저장하는 공간(stage), 실제로 저장하여 기록하는 공간(repository)로 나눔
- 워킹 디렉터리는 작업하는 공간을 의미.
- 단순하게 파일을 저장하는 공간이라고 생각하면 됨

### 파일의 untracked 상태와 tracked 상태

- 깃은 워킹 디렉터리에 있는 파일들을 추적됨과 추적되지 않음 상태로 구분함

#### untracked 상태

- 워킹 디렉터리에 새로 생성된 파일은 모두 추적되지 않음(untracked) 상태
- 파일을 관리하려면 깃에 추적하라고 통지해 주어야 함
- 통지하지 않은 파일은 깃에서 추적하지 않음

#### tracked 상태

- 워킹 디렉터리 안에 추적되지 않은 상태의 파일들은 별도의 명령어를 실행하여 추적 상태로 변경해 주어야 함
  - git add [파일명/경로명]
- 관리할 파일 목록에 등록된 상태를 추적 상태라고 함

---------------

## 스테이지

### 스테이지 = 임시 영역

- 워킹 디렉터리와 저장소 사이에 있는 임시 영역
- 깃은 워킹 디렉터리에서 작업이 끝난 파일을 스테이지로 잠시 복사함
  - 컨텐츠 내용을 직접 가지고 있지는 않고 파일의 추적 상태 정보들만 기록
- 파일들의 스테이지 상태는 status 명령어로 확인 가능함
  - git status
  - git ls-files --stage

### 파일의 stage 상태와 unstage 상태

- 스테이지 영역으로 등록된 모든 파일은 utracked 상태에서 tracked 상태로 변경됨
- 깃이 변화 이력을 기록하려면 파일들의 최종 상태가 stage 상태여야 함.
- unstage 상태라면 파일에 변화가 있다는 것을 의미
- 스테이지 영역에 있는 파일과 워킹 디렉터이 안에 있는 파일 내용에 차이가 있을 때는 unstage 상태
- git add 명령어로 다시 스테이지에 추가해야 함

### 파일의 modified 상태와 unmodified 상태

- 수정함 상태와 수정하지 않음 상태
- 수정된 파일은 스테이지에서 잠시 제외되기 때문에 add 명령어로 스테이지로 재등록 해야 함

------------------

## 파일의 상태 확인

### status 명령어로 깃 상태 확인

- status 명령어를 사용하면 깃의 상태 메시지를 확인할 수 있음

------------------

## 파일 관리 목록에서 제외: .gitignore

- 깃은 tracked 상태인 모든 것을 추적 관리함.
- 깃으로 관리하고 싶지 않은 파일과 폴더는 별도의 .gitignore 설정 파일 안에 나열하면 됨.

### .gitignore

- 저장소 폴더의 최상위 디렉터리에 두어야 함
- 파일에 작성된 목록들을 추적하지 않음

### .gitignore 파일 표기법

- (#) 으로 시작하는 줄은 주석으로 처리
- 애스터리스크(*) 기호 사용하여 패턴 정의 가능
- 제외하지 않는 파일과 필요한 파일은 이름 앞에 (!)를 사용
- 디렉터리를 표현할 때는 리눅스와 같이 슬래시(/) 기호를 사용
- glob 패턴을 지원하기 때문에 정규 표현식을 응용하여 작성 규칙을 넣을 수도 있음

---------------------

## 깃 저장소 복제

### 공개 저장소

- 깃허브, 비트버킷 같은 깃 호스팅 사이트가 있음

### 다운로드 vs 복제

- 다운로드는 깃의 이력을 포함한 저장 영역까지 내려받는 것은 아님
- 저장소를 복제하면 코드 뿐만 아니라 커밋 같은 변화의 모든 이력도 같이 내려받을 수 있음

### 복제 명령어

- git clone [URL] 새폴더 이름
