# 빌더 패턴(Builder Pattern)

## 빌더 패턴이란?

- 복잡한 객체를 생성하는 방법을 정의하는 클래스와 표현하는 방법을 정의하는 클래스를 별도로 분리하여,
서로 다른 표현이라도 이를 생성할 수 있는 동일한 절차를 제공하는 패턴이다.
- 빌더 패턴은 많은 Optional한 멤버 변수(혹은 파라미터)나 지속성 없는 상태 값들에 대해 처리해야 하는 문제들을 해결한다.
- 팩토리 패턴이나 추상 팩토리 패턴에서 생성해야하는 클래스에 대한 속성 값이 많을 때 아래와 같은 이슈가 있다.
  - 클라이언트 프로그램은 팩토리 클래스로 많은 파라미터를 넘겨줄 때 타입, 순서 등에 대한 관리가 어려워져 에러가 발생할 확률이 높아진다.
  - 경우에 따라 필요 없는 파라미터들에 대해서 팩토리 클래스에 null 값을 넘겨줘야 한다.
  - 생성해야 하는 서브클래스가 무거워지고 복잡해짐에 따라 팩토리 클래스 또한 복잡해진다.
- 빌더 패턴은 위의 문제를 해결하기 위해 별도의 Builder 클래스를 만들어 필수 값은 생성자를 통해, Optional한 값은 메소드를 통해 값을 입력받고
build() 메소드를 통해 최종적으로 하나의 인스턴스를 리턴하는 방식이다.

## 빌더 패턴 구현 방법

1. 빌더 클래스를 Static Nested Class로 생성한다. 이름은 관례적으로 클래스 이름 뒤에 Builder를 붙인다.
2. 빌더 클래스의 생성자는 public으로 하며, 필수 값들에 대해 생성자의 파라미터로 받는다.
3. Optional한 값들은 각각의 속성마다 메소드로 제공하며, 이때 중요한 것은 메소드의 리턴 값이 빌더 객체 자신이여야 한다.
4. 빌더 클래스 내에 build() 메소드를 정의하여 클라이언트 프로그램에게 최종 생성된 결과물을 제공한다. build()로만 객체 생성을 제공하기 때문에
생성 대상이 되는 클래스의 생산자는 private으로 정의해야 한다.

## 빌더 패턴의 구조

![Builder Pattern Structure](../../images/Builder.png)

- Director: Builder를 이용하여 객체를 생성(반환)
- Builder: 객체를 생성하는 방법과 형태를 가진 인터페이스
- ConcreteBuilder: Builder 인터페이스의 구현체로 구현하고자하는 각 객체의 특징을 정의
- Product: Director가 Builder를 이용해 생성하는 결과 객체

## 빌더 패턴의 장점

- 객체들을 단계별로 생성하거나 생성 단계들을 연기하거나 재귀적으로 단계들을 실행할 수 있다.
- 제품들의 다양한 표현을 만들 때 같은 생성 코드를 재사용할 수 있다.
- SRP

## 빌더 패턴의 단점

- 패턴이 여러 개의 새 클래스들을 생성해야 하므로 코드의 전반적인 복잡성이 증가.

  