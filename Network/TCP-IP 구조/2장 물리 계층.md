# 물리 계층

- 이름 그대로 통신에서의 물리적인 것을 모두 담당하는 계층
- 유선 LAN의 경우 LAN 케이블, 무선 LAN의 경우 와이파이 전파 등

------------

## 유선 LAN(IEEE802.3)

- IEEE802.3은 이더넷에 관한 기술을 표준화함
- 이더넷은 저렴하게 고속화를 실현할 수 있고 손쉽게 확장할 수 있어 폭발적으로 전세계에 보급됨
  - 가정이나 사무실 등의 무선 LAN 네트워크 환경이라면 거의 대부분 이더넷을 사용

### IEEE802.3 프로토콜

- 전송 속도나 사용하는 케이블에 따라 다양한 프로토콜을 표준화하고 있으며 각각 뒤에 알파벳 한 두 문자를 붙인 정식 명칭을 사용
- 다양한 프로토콜이 있어 혼란하지만 사용하는 케이블에 중점을 두어야 함
- 현재 네트워크 환경에서 사용되는 케이블은 구리로 만든 트위스트 페어 케이블과 유리로 만든 광섬유 케이블 중 하나

### 트위스트 페어 케이블

- OOBASE-T, OOBASE-TX와 같이 BASE 뒤에 T가 붙어 있는 프로토콜은 트위스트 페어 케이블을 사용함
- 겉으로 보기엔 하나의 케이블이지만 8가닥의 구리선을 2가닥씩(PAIR) 꼬아서(TWISTED) 하나로 묶은 케이블임
- 실드, 핀 할당, 카테고리로 분류 가능함

#### 실드에 따른 분류

- 실드 유무에 따라 UTP(Unshileded Twisted Pair) 케이블과 STP(Shileded Twisted Pair) 케이블로 분류함
- UTP
  - 소위 LAN 케이블
  - 회사, 가정에서 쉽게 찾아볼 수 있으며 친숙한 케이블
  - 다루기 쉽고 가격이 저렴함
  - 전자석 노이즈에 약한 특성이 있기 때문에 공장 등 전자석 노이즈가 많은 환경에서는 사용하기 적합치 않음
- STP
  - 전자석 노이즈에 약한 UTP 케이블의 단점을 보완함
  - 실드 처리로 인해 가격이 높아짐
  - 실제 구축 환경에서는 UTP 케이블을 사용하고 전자석 노이즈 환경이 의심되는 경우에 STP로 바꿈

#### 커넥터 핀 할당에 따른 분류

- 트위스트 페어 케이블의 커넥터를 RJ-45라 함
- 트위스트 페어 케이블은 구리선을 나열하는 순서에 따라 스트레이트 케이블과 크로스 케이블로 분류할 수 있음
- 연결할 때는 한쪽에서 송신, 다른 한쪽에서 수신할 수 있도록 함
- 다른 타입의 물리 포트끼리 연결할 때 (PC와 L2 스위치를 연결하는 등)는 스트레이트 케이블을 사용함
- 같은 타입의 물리 포트끼리 연결할 때 (스위치와 스위치를 연결하는 등)는 크로스 케이블을 사용함

#### 카테고리에 따른 분류

- LAN 케이블의 스펙 테이블을 잘 보면 카테고리6 나 카테고리 5e 처럼 표기된 것이 있음
- 카테고리는 전송 속도와 직접 관계가 있음
- 카테고리 값이 클 수록 전송 속도가 빠른 프로토콜에 대응할 수 있음

### 광섬유 케이블

- OOBASE-SX/SR 또는 OOBASE-LX/LR 프로토콜은 광섬유 케이블을 사용하는 프로토콜
  - S 는 'Short wavelength(단파장)'의 S
  - L 은 'Long wavelength(장파장)'의 L
- 광섬유 케이블은 유리를 가느다란 관으로 만든 것으로 광 신호를 전송함
- 굴절률이 다른 유리(굴절률이 높은 코어와 낮은 클래딩)를 2층 구조로 만들어 빛을 코어 안에 가둠으로써 손실률이 낮은 빛의 전송로를 만듬
  - 이 전송로를 모드라고 부름
- 광섬유 케이블은 거리를 늘려도 신호가 잘 감쇠하지 않기 때문에 광대역을 유지할 수 있음
- 케이블 구조가 치밀하기 때문에 다루기 어려운 것이 단점
- 케이블과 커넥터에 따라 구분할 수 있음

#### 케이블에 따른 분류

- 다중 모드 광섬유 케이블(MMF)
  - 코어 지름이 상대적으로 큼
  - 단파장 빛을 사용하는 프로토콜에 사용됨
  - 코어 지름이 크기 때문에 빛의 전송로가 여럿으로 분산됨
  - 상대적으로 가격이 저렴하고 다루기 쉬워 LAN등 비교적 근거리를 연결할 때 사용
- 단일 모드 광섬유 케이블(SMF)
  - 코어 지름이 작음
  - 모드가 하나임
  - 장거리 전송, 대용량의 데이터 전송 가능
  - 데이터 센터나 ISP의 백본 설비에서 사용함
- 광섬유 케이블은 1가닥을 송신, 1가닥을 수신 2가닥을 1그룹으로 사용함
- MPO 케이블
  - 12가닥 또는 24가닥을 하나로 묶은 케이블
  - 가닥 수를 늘려 전송량을 증가

#### 커넥터에 따른 분류

- SC 커넥터
  - 플러그를 눌러 고정하고 당기면 간단하게 빠지는 푸시-풀 구조의 커넥터
  - 다루기 쉽고 저렴함
  - 플러그가 다소 큰 것이 단점
- LC 커넥터
  - SC 커넥터와 비슷함
  - 플러그가 작아 더 많은 포트를 장치에 연결할 수 있음
- MPO 커넥터
  - MPO 케이블 양끝에 장착하는 커넥터
  - 푸시-풀 구조

### 두 가지 통신 방식

- 인터넷의 통신 방식은 반이중화 통신, 전이중화 통신 2가지로 나눌 수 있음
- 네트워크 기기나 PC의 물리 포트에 대해 어떤 통신 방식을 설정하는가에 따라 전송 속도가 크게 달라짐

#### 반이중화 통신

- 송신할 때와 수신할 때 그 해당 통신 방향을 전환해서 사용하는 방식
  - 편도 1차선 양방향 도로
- 패킷을 송신할 때는 수신할 수 없으며 반대도 마찬가지
- 우연히 양측이 같은 타이밍에 패킷을 송, 수신한다면 충돌이라 판단해 잼(JAM) 신호라는 특수한 비트 패턴을 송신함
  - CSMA/CD
- 고속 통신에는 대응하기 어려워 10Gbps 이상의 프로토콜에서는 사용되지 않음

#### 전이중화 통신

- 송신용 전송로와 수신용 전송로를 별도로 준비하고 동시에 수행함
  - 왕복 2차선 도로
- CSMA/CD 구조가 필요치 않으며 전송 속도를 최대한 높일 수 있음
- 현대의 고속 이더넷은 전이중화 통신이 기본

#### 오토 니고시에이션

- 물리 포트에서 사용하는 프로토콜이나 통신 방식을 자동으로 식별하는 기능
- 오토 니고시에이션을 사용할 때는 인접한 기기의 모든 물리 포트에도 오토 니고시에이션이 설정되어 있어야 함
  - 한쪽만 설정되어 있으면 자동으로 반이중화 통신이 선택됨

---------------------

## 무선 LAN(IEEE802.11)

### 주파수 대역

- 2.4 혹은 5.0

#### 2.4GHz 대역

- ISM 밴드라 불리며 무선 LAN 뿐만 아니라 전자레인지, 블루투스, 아마추어 무선 등에서도 사용됨
- 전파 특성상 장애물에 강하기 때문에 옥내외에서 사용할 수 있음
- 일상생활에서 전파 간섭을 일으키는 경우가 많기 때문에 충분히 고려해서 사용해야 함

#### 5GHz 대역

- 사용할 수 있는 채널의 수가 많고 동시에 사용할 수 있기 때문에 깨끗한 전파 환경을 구축할 수 있음
- 장애물에 약해 옥외 사용에 제한이 있음

### 변조 방식

- 무선 LAN은 전파를 사용해 데이터를 보냄
- 0,1 로 구성된 디지털 데이터를 아날로그 전파로 변환하는 것을 변조라고 부름
- 무선 LAN은 1차 변조와 2차 변조의 2차례 변조함으로써 안정적으로 데이터를 보냄

#### 1차 변조

- 일정 주파수로 된 기준 파형인 '반송파'와 디지털 데이터를 조합해 전파에 싣기 위한 '변조파'를 만듬
- 1차 변조 방식은 프로토콜의 전송 속도와 관계가 있음

#### 2차 변조

- 1차 변조로 만든 파형을 노이즈에 지지 않도록 하기 위한 변조
- 무선 LAN 프로토콜은 2차 변조 방식과 주파수 대역의 조합에 따라 정리할 수 있음

### 무선 LAN의 통신 방식

- 반이중화 통신으로 작동함
  - 송신할 때 수신 X 반대도 마찬가지
- 무선 LAN에는 충돌을 피하면서 통신하는 CSMA/CA 구조가 있음
  - 유선은 CSMA/CD
- CDMA/CD는 충돌한 후 무언가를 시도하려는 것에 비해 CSMA/CA는 충돌하기 전 무언가를 시도하려는 것

### 고속화 기술

#### 숏 가드 인터벌

- 무선 LAN의 안테나로 들어오는 전파에는 직접 들어오는 직접파, 건물이나 벽을 반사하면서 시간차를 두고 도달하는 반사파(간접파)가 있다.
- 2 중료의 전파가 어긋나거나 겹쳐서 파형이 어그러지는 현상을 다중 경로 간섭이라 부른다.
- 다중 경로 간섭이 발생하면 원래 전파로 복원할 수 없게 되어 통신이 두절되거나 에러가 자주 발생한다.
  - 다중 경로 간섭을 줄이는 기능을 가드 인터벌
- 가드 인터벌은 비트를 실은 전파의 가장 마지막 부분을 일정 시간 복사해서 전파 앞부분에 붙이는 기능

#### 채널 본딩

- 인접한 채널을 동시에 사용함으로써 전송 속도를 향상하는 기술
- 채널 본딩을 사용하면 하나의 액세스 포인트가 여러 채널을 사용할 수 있음
- 따라서 2.4GHz 대역에서는 채널을 배치할 수 없기에 5GHz를 사용해야 함

#### MIMO

- 무선 LAN에서 공간을 흐르는 비트의 전송로를 공간 스트림이라고 부름
- 공간 스트림을 동시에 여럿 사용함으로써 전송 속도를 높이는 기술

#### 빔 포밍

- 무선 LAN 단말에 핀 포인트로 전파를 보내는 기능

### 기타 무선 프로토콜

#### 블루투스

- 저전력형 근거리 무선 통신 프로토콜
- 무선 LAN과 비교해 전송 속도나 거리면에서 부족하나 소비 전력이 적고 다양한 장치를 페어링할 수 있음

#### 지그비

- 저전력형 단거리 무선 프로토콜
- 무선 LAN에 비해 전송 속도나 거리 면에서 압도적 열악함
- 데이터 송수신 시 소비 전력이 적고 슬립 시 대기 전력이 블루투스보다도 작기 때문에 IoT에서 이용되고 있음
